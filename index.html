<meta name="pinterest" content="nopin" />
<link rel="stylesheet" type="text/css" href="//cloud.typography.com/7225274/679288/css/fonts.css" />

<style type="text/css">
/* Drupal article page overwrites */
a, a:hover, a:active, a:visited, a:link {text-decoration:none !important;}
.whats-on .article-detail-page .panel-2col-article .enter-wrapper {width:100%; max-width:100% !important;}
div.pane-node-created, .whats-on .breadcrumb, h1 {display: none;}
.container {padding:0 !important; width:100%;}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {padding:0 !important;}
.view-latest-articles-widget {max-width:1080px; display:block; margin:0 auto; background:#fff;}
.pane-addthis-addthis-block {max-width:1080px; width:100%; display:block; clear:both; margin:0 auto; background:#fff;}
.AvalonExtraLight {font-family:'avalonregular' !important; font-size:1.8rem !important; line-height:1.9rem !important;}
.whats-on .footer {padding-top:0;}
.whats-on .article-detail-page .panel-2col-article .center-wrapper .pane-node-body {margin-bottom:0; padding-bottom:0;}
.inside {background:#fff;}
/* Drupal article page overwrites */
header {
	z-index: 120;
}
footer.footer {
	display: none !important;
}
.field-items {
	overflow-x: hidden;
}
#shopByStarSign {
	width: 100%;
	height: 100%;
	position: relative;
	top: 0;
}
#backgroundGradient {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	overflow: hidden;
	position: absolute;
	background: -moz-linear-gradient(top,  #51284F 0%, #07043a 100%);
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#51284F), color-stop(100%,#07043a));
	background: -webkit-linear-gradient(top,  #51284F 0%,#07043a 100%);
	background: -o-linear-gradient(top,  #51284F 0%,#07043a 100%);
	background: -ms-linear-gradient(top,  #51284F 0%,#07043a 100%);
	background: linear-gradient(to bottom,  #51284F 0%,#07043a 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#51284F', endColorstr='#07043a',GradientType=0 );
	-webkit-transition: background 1s ease-in-out;
	transition: background 1s ease-in-out;
}
#coverIt {
	background: -moz-linear-gradient(top,  #592a71 0%, #07043a 100%);
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#592a71), color-stop(100%,#07043a));
	background: -webkit-linear-gradient(top,  #592a71 0%,#07043a 100%);
	background: -o-linear-gradient(top,  #592a71 0%,#07043a 100%);
	background: -ms-linear-gradient(top,  #592a71 0%,#07043a 100%);
	background: linear-gradient(to bottom,  #592a71 0%,#07043a 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#592a71', endColorstr='#07043a',GradientType=0 );
	position: absolute;
	top: 0;
	left: 0;
	z-index: 70;
	width: 100%;
	height: 100%;
}
#starfield {
	width: 100%;
	height: 100%;
	margin: 0 auto;
	position: absolute;
	overflow: hidden;
	background: url(//images.selfridges.com/is/image/selfridges/fog?scl=1&qlt=100,1&fmt=png-alpha) !important;
	background-repeat: no-repeat !important;
	background-position: center center !important;
	background-size: cover !important;
}
#starfield canvas {
	position: absolute;
	z-index: 10;
	top: 0;
}
#loadingImg {
	width: 128px;
	height: 128px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin: -64px 0 0 -64px;
	z-index: 80;
	background: url(//images.selfridges.com/is/content/selfridges/content/site/2015/201509/shop_by_star_sign/loading.gif);
}
.contain {
	width: 100%;
	height: 100%;
	max-width: 600px;
	margin: 0 auto !important;
	display: table-cell;
	vertical-align: middle;
}
.contain img {
	width: 100%;
	max-width: 500px;
	height: auto;
}
.contain p {
	padding: 16px 40px;
	margin-bottom: 0;
	color: #fff;
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-weight: 500;
}
#mainTitle, #mainLogo {
	width: 100%;
	max-width: 620px;
	height: auto;
	display: none;
}
#title img, #splash img {
	width: 100%;
	height: auto;
}
.slides {
	position: relative;
	width: 100%;
	height: 100%;
	z-index: 20;
	overflow: hidden;
}
#content {
	width: 100%;
	max-width : 960px;
	height: 100%;
	position: relative;
	margin: 0 auto;
	z-index: 30;
	-webkit-transition: top 1s linear;
	transition: top 1s linear;
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-size: 18px;
	font-weight: 500;
	letter-spacing: 0.04em;
	color: #FFFFFF;
	text-align: center;
	line-height: 1.2em;
}
#signsContainer {
	width: 100%;
	height: 100%;
	position: absolute;
	z-index: 60;
	display: none;
	opacity: 0;
}
#content .introSlide {
	width: 100%;
	max-width : 960px;
	height: 100%;
	position: absolute;
	top: 100%;
	margin: 0 auto;
	z-index: 61;
	-webkit-transition: top 1s linear;
	transition: top 1s linear;
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-size: 16px;
	font-weight: 500;
	letter-spacing: 0.04em;
	color: #FFFFFF;
	text-align: center;
	line-height: 1.2em;
	display: table;
}
#slide1 .selectors, #slide1 .signContainer {
	display: none !important;
}
.signSlide {
	width: 100%;
	height: 100%;
	display: -webkit-flex;
	display: -moz-flex;
	display: -ms-flexbox;
	display: -o-flex;
	display: flex;
	-webkit-flex-direction: column;
	-moz-flex-direction: column;
	-ms-flex-direction: column;
	-o-flex-direction: column;
	flex-direction: column;
	-webkit-box-pack: center;
	-moz-box-pack: center;
	-webkit-justify-content: center;
	-ms-flex-pack: center;
	justify-content: center;
	position: absolute;
	opacity: 0;
	background-size: cover !important;
	background-attachment: fixed !important;
	margin-top: 0px;
	-moz-box-sizing: border-box;
	-webkit-box-sizing: border-box;
	box-sizing: border-box;
	padding: 10px;
	-webkit-transition: opacity 1s linear, top 1s ease-in-out;
	transition: opacity 1s linear, top 1s  ease-in-out;
}
.signSlide.past {
	top: -100% !important;
	opacity: 0;
}
.signSlide.active {
	top: 0 !important;
	opacity: 1;
	z-index: 70;
}
.signSlide.future {
	top: 100% !important;
	opacity: 0;
}
.signSlide p {
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-size: 16px;
	font-weight: 500;
	letter-spacing: 0.04em;
	color: #FFFFFF;
	text-align: center;
	line-height: 1.2em;
	width: 960px;
	max-width: 960px;
	margin: 16px auto;
	display: block;
}
.next {
	width: 65px;
	height: 65px;
	position: absolute;
	bottom: 30px;
	left: 50%;
	margin-left: -32.5px;
	z-index: 30;
	-webkit-transition: opacity 1s linear;
	transition: opacity 1s linear;
}
.next img {
	width: 100%;
	height: auto;
}
a img {
	border: none;
}
.selectors {
	text-align: center;
}
a#female, a#male {
	display: inline-block;
	width: 150px;
	height: 47px;
	margin: 10px 40px;
	background-position: center bottom !important;
}
a#female:hover, a#male:hover, a#female.active, a#male.active {
	background-position: center top !important;
}
.signContainer {
	min-height: 310px;
	-webkit-transition: height 0.5s linear;
	transition: height 0.5s linear;
}
.signContainer img {
	width: 100px;
	height: auto;
	opacity: 0;
	margin: 0 25px;
}
.signTitle img, .signImage img, .signImageColour img {
	width: 100%;
	height: auto;
}
.signImage {
	width: 100%;
	max-width: 460px;
	max-height: 350px;
	margin: 0 auto;
}
.signImage img {
	width: auto;
	height: auto;
	display: block;
	margin: 0 auto;
}
.signTitle, .iconTitle {
	width: calc(100% - 40px);
	height: 60px;
	margin: 0 auto;
	position: absolute;
	top: 20px;
	background-position: center center !important;
	background-size: contain !important;
	background-repeat: no-repeat !important;
}
.iconImage {
	width: 320px;
	max-width: 320px;
	height: 320px;
	margin: 0 auto;
}
.iconImage img {
	width: 100%;
	height: auto;
}
.glow {
	position: relative;
}
.glow img {
	position: absolute;
	display: block;
	box-shadow: 0 0 100px rgba(247,245,188, 0.6);
	border-radius: 50%;
}
.glow img.front {
	z-index: 20;
}
.glow img.front.animated {
	-webkit-animation: fade 3.5s infinite;
	-webkit-animation-direction: alternate;
	-webkit-animation-timing-function: ease-in-out;
	-webkit-animation-delay: 2s;
	animation: fade 3.5s infinite;
	animation-direction: alternate;
	animation-timing-function: ease-in-out;
	animation-delay: 2s;
}
.glow img.back {
	z-index: 19;
}
.signImageColour {
	width: 100%;
	margin: 0 auto;
	text-align: center;
}
.type {
	position: absolute;
	top: 0;
	left: 0;
	height: 100%;
	width: 50%;
	margin-left: 25%;
	display: table;
}
#typed-strings {
	height: 200px;
	width: 100%;
	display: table-cell;
	vertical-align: middle;
}
#typed {
	height: 200px;
	width: 100%;
	display: block;
	font-size: 44px;
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-weight: 500;
	font-style: italic;
	letter-spacing: 0.04em;
	color: #ffffff;
	text-align: center;
	line-height: 1.2em;
	opacity: 0;
	-webkit-transition: opacity 4s ease-in-out;
	transition: opacity 4s ease-in-out;
}
#typed span {
	background: url(//images.selfridges.com/is/image/selfridges/thing?scl=1&qlt=100,1&fmt=png-alpha);
	background-size: contain !important;
}
.typed-cursor {
	display: none;
}
.signImageBody {
	width: 144px;
	height: 300px;
	margin: 0 auto;
	background-repeat: no-repeat !important;
	background-position: center top !important;
	background-size: contain !important;
	margin: 0 auto;
}
.signImageBody img {
	width: auto;
	height: 100%;
	display: block;
	margin: 0 auto;
	-webkit-animation: flash 1s infinite;
	-webkit-animation-direction: alternate;
	-webkit-animation-timing-function: ease-in-out;
	animation: flash 1s infinite;
	animation-direction: alternate;
	animation-timing-function: ease-in-out;
}
#planet {
	width: 100%;
	height: 360px;
	margin: 0 auto;
	z-index: 10;
	position: relative;
}
#planet.noWebGL {
	width: 240px;
	height: 240px;
	margin: 0 auto;
	z-index: 10;
	position: relative;
}
#planet canvas {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
}
.horoscope {
	width: 100%;
	z-index: 20;
}
#slideNav {
	position: absolute;
	right: 12px;
	top: 50%;
	z-index: 60;
	margin-top: -77px;
	cursor: pointer;
	display: none;
}
#slideNav .slideNav {
	width: 10px;
	height: 10px;
	margin: 0 0 10px 0;
	border: 2px solid #fff;
	border-radius: 20px;
	display: block;
}
#slideNav .slideNav.active {
	background: #fff;
}
#info {
	position: absolute;
	top: 15px;
	left: 15px;
	cursor: pointer;
	z-index: 70;
	display: none;
	width: 62px;
	height: 62px;
}
.largerTxt {
	font-size: 32px;
	font-style: italic;
}
#planettype {
	width: 200px;
	height: 200px;
	z-index: 100;
	margin: 10px auto 30px auto;
	border-radius: 50%;
	background-position: left center;
	background-size: 400px 200px !important;
	box-shadow: inset 16px 0 50px 6px rgb(0, 0, 0),
		inset -3px 0 6px 4px rgba(255, 255, 255, 0.4),
		0 0 100px rgba(247,245,188, 0.6);
	-webkit-animation: planet 24s linear infinite;
	animation: planet 24s linear infinite;
}
#rings {
	width: 440px;
	height: 220px;
	position: absolute;
	top: 18px;
	left: 50%;
	margin-left: -220px;
	background: url(//images.selfridges.com/is/image/selfridges/Saturnrings?scl=1&qlt=100,1&fmt=png-alpha) no-repeat;
	background-size: 440px 220px;
}
.atmos {
	width: 100%;
	height: 100%;
	border-radius: 50%;
	background: -moz-radial-gradient(center, ellipse cover,  rgba(255,255,255,0.29) 0%, rgba(255,255,255,0.07) 14%, rgba(251,251,251,0.05) 15%, rgba(0,0,0,0.05) 85%, rgba(0,0,0,0.5) 100%); /* FF3.6+ */
	background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(255,255,255,0.29)), color-stop(14%,rgba(255,255,255,0.07)), color-stop(15%,rgba(251,251,251,0.05)), color-stop(85%,rgba(0,0,0,0.05)), color-stop(100%,rgba(0,0,0,0.5))); /* Chrome,Safari4+ */
	background: -webkit-radial-gradient(center, ellipse cover,  rgba(255,255,255,0.29) 0%,rgba(255,255,255,0.07) 14%,rgba(251,251,251,0.05) 15%,rgba(0,0,0,0.05) 85%,rgba(0,0,0,0.5) 100%); /* Chrome10+,Safari5.1+ */
	background: -o-radial-gradient(center, ellipse cover,  rgba(255,255,255,0.29) 0%,rgba(255,255,255,0.07) 14%,rgba(251,251,251,0.05) 15%,rgba(0,0,0,0.05) 85%,rgba(0,0,0,0.5) 100%); /* Opera 12+ */
	background: -ms-radial-gradient(center, ellipse cover,  rgba(255,255,255,0.29) 0%,rgba(255,255,255,0.07) 14%,rgba(251,251,251,0.05) 15%,rgba(0,0,0,0.05) 85%,rgba(0,0,0,0.5) 100%); /* IE10+ */
	background: radial-gradient(ellipse at center,  rgba(255,255,255,0.29) 0%,rgba(255,255,255,0.07) 14%,rgba(251,251,251,0.05) 15%,rgba(0,0,0,0.05) 85%,rgba(0,0,0,0.5) 100%); /* W3C */
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4affffff', endColorstr='#80000000',GradientType=1 );
}
.shop {
	text-align: center;
	width: calc(100% - 40px);
	position: absolute;
	bottom: 25px
}
.shop a {
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-weight: 500;
	font-size: 18px;
	text-transform: uppercase;
	color: #ffffff;
	text-decoration: none;
	border: 2px solid #fff;
	display: inline-block;
	padding: 10px 15px;
	margin: 20px auto;
	width: auto;
	max-width: 480px;
	text-align: center;
	line-height: 1;
}
.shop a img {
	height: 18px;
	width: auto;
}
.shop a img, .skip a img {
	vertical-align: middle;
}
.skip {
	position: absolute;
	right: 30px;
	bottom: 30px;
}
.skip a {
	font-family: 'Archer SSm A', 'Archer SSm B';
	font-weight: 500;
	font-size: 24px;
	text-transform: uppercase;
	color: #ffffff;
	text-decoration: none;
	display: inline-block;
	padding: 5px;
	text-align: right;
	line-height: 1;
}
#social {
	position: absolute;
	bottom: 20px;
	left: 20px;
	z-index: 80;
	width: 62px;
	display: none;
}
#social img {
	width: 100%;
	height: auto;
	margin: 10px 0 0 0;
}
.stars {
	background-image:
		radial-gradient(2px 2px at 20px 30px, #fff, rgba(0,0,0,0)),
		radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
		radial-gradient(2px 2px at 50px 160px, #fff, rgba(0,0,0,0)),
		radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0)),
		radial-gradient(2px 2px at 130px 80px, #fff, rgba(0,0,0,0)),
		radial-gradient(2px 2px at 160px 120px, #fff, rgba(0,0,0,0));
	background-repeat: repeat;
	background-size: 200px 200px;
	-webkit-animation: zoom 5s infinite;
	animation: zoom 5s infinite;
	opacity: 0;
	overflow: hidden;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 0;
}
.stars:nth-child(1) {
	background-position: 50% 50%;
	-webkit-animation-delay: 0s;
	animation-delay: 0s;
}
.stars:nth-child(2) {
	background-position: 20% 60%;
	-webkit-animation-delay: 1s;
	animation-delay: 1s;
}
.stars:nth-child(3) {
	background-position: -20% -30%;
	-webkit-animation-delay: 2s;
	animation-delay: 2s;
}
.stars:nth-child(4) {
	background-position: 40% -80%;
	-webkit-animation-delay: 3s;
	animation-delay: 3s;
}
.stars:nth-child(5) {
	background-position: -20% 30%;
	-webkit-animation-delay: 4s;
	animation-delay: 4s;
}

@-webkit-keyframes zoom {
	0% {
		opacity: 0;
		-webkit-transform: scale(0.5);
		animation-timing-function: ease-in;
	}
	85% {
		opacity: 0.5;
		-webkit-transform: scale(2.8);
		animation-timing-function: linear;
	}
	100% {
		opacity: 0;
		-webkit-transform: scale(3.5);
	}
}
@keyframes zoom {
	0% {
		opacity: 0;
		transform: scale(0.5);
		animation-timing-function: ease-in;
	}
	85% {
		opacity: 1;
		transform: scale(2.8);
		animation-timing-function: linear;
	}
	100% {
		opacity: 0;
		transform: scale(3.5);
	}
}
@-webkit-keyframes fade {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}
@keyframes fade {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}
@-webkit-keyframes flash {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}
@keyframes flash {
	from {
		opacity: 1;
	}
	to {
		opacity: 0;
	}
}
@-webkit-keyframes planet {
	from {
		background-position-x: 0;
	}
	to {
		background-position-x: 480px;
	}
}
@keyframes planet {
	from {
		background-position-x: 0;
	}
	to {
		background-position-x: 480px;
	}
}
@media (max-width: 1024px) {
	.signSlide {
		padding: 10px 40px;
	}
	.signTitle, .iconTitle {
		width: calc(100% - 80px);
		height: 80px;
	}
	.signSlide p {
		font-size: 24px;
		width: calc(100% - 80px);
	}
	#typed {
		font-size: 60px;
	}
	.signImageBody {
		width: 100%;
		height: 50%;
		margin: 0;
		left: 0;
		top: 400px;
	}
	.signImageBody img {
		display: block;
		height: 100%;
		width: auto;
		margin: 0 auto;
	}
	.iconImage {
		width: 320px;
		height: 320px;
		max-width: 320px;
		margin: 20px auto;
	}
	#planet {
		width: 240px;
		height: 240px;
		margin: 0 auto;
		z-index: 10;
		position: relative;
	}
	.iconImage img {
		width: 100%;
		height: auto;
	}
	.signImageColour {
		height: 175px;
	}
	.type {
		position: relative;
		width: 90%;
		display: block;
		margin: 0 auto;
	}
	#typed {
		height: 175px;
		width: 100%;
		display: block;
		font-size: 40px;
	}

}
@media (max-width: 760px) {
	#backgroundGradient {
	}
	#content {
		width: 100%;
		height: 100%;
		position: relative;
		margin: 0 auto;
		z-index: 30;
		-webkit-transition: top 1s linear;
		transition: top 1s linear;
		font-family: 'Archer SSm A', 'Archer SSm B';
		font-size: 18px;
		font-weight: 500;
		letter-spacing: 0.04em;
		color: #FFFFFF;
		text-align: center;
		line-height: 1.2em;
	}
	.contain p {
		margin-top: 0;
		padding: 5px 20px;
		font-size: 14px;
	}
	.contain {
		max-width: 90%;
	}
	.contain img {
		max-width: 100%;
	}
	#content .introSlide {
		font-size: 28px;
		line-height: 1.2em;
	}
	a#female, a#male {
		width: 90px;
	    height: 28px;
	    margin: 10px 40px;
	    background-size: 90px 56px !important;
	}
	.signContainer {
		min-height: 660px;
	}
	.signContainer img {
		width: 16%;
		margin: 0 1%;
	}
	#info {
		width: 40px;
		height: 40px;
		top: 20px;
	}
	.signSlide {
		padding: 20px 40px;
	}
	.signTitle, .iconTitle {
		width: calc(100% - 80px);
		height: 42px;
	}
	.signImage img {
		width: 100%;
	}
	.signSlide p {
		font-size: 14px;
		width: calc(100% - 20px);
	}
	.signImageBody {
		width: 100%;
		height: 50%;
		margin: 0;
		left: 0;
		top: 400px;
	}
	.signImageBody img {
		display: block;
		height: 100%;
		width: auto;
		margin: 0 auto;
	}
	.iconImage {
		width: 260px;
		height: 260px;
		max-width: 260px;
		margin: 20px auto;
	}
	.iconImage img {
		width: 100%;
		height: auto;
	}
	.signImageColour {
		height: 160px;
	}
	.type {
		position: relative;
		width: 90%;
		display: block;
		margin: 0 auto;
	}
	#typed {
		height: 160px;
		width: 100%;
		display: block;
		font-size: 22px;
	}
	.next {
		width: 40px;
		height: 40px;
		margin-left: -20px;
		bottom: 40px;
	}
	.shop {
		width: calc(100% - 80px);
		bottom: 35px;
	}
	.shop a {
		font-size: 12px;
		padding: 10px 5px;
	}
	.shop a img {
		height: 12px;
		width: auto;
	}
	.skip {
		right: 10px;
		bottom: 45px;
	}
	.skip a {
		font-size: 14px;
	}
	.skip a img {
		height: 14px;
		width: auto;
	}
	#social {
		left: 15px;
		bottom: 15px;
		width: 40px;
	}
}
@media (max-width: 480px) {
	a#female, a#male {
		width: 90px;
	    height: 28px;
	    margin: 10px 20px;
	    background-size: 90px 56px !important;
	}
	.signContainer {
		min-height: 220px;
	}
	.signContainer a {
		position: relative;
	    width: 25%;
	    display: inline-block;
	    overflow: hidden;
	    margin: 0 1% 30px 1%;
	    height: 40px;
	}
	.signContainer img {
	    position: absolute;
	    width: 100%;
	    height: auto;
	    margin: 0;
	    left: 0;
	}
	#planet {
		width: 180px;
		height: 180px;
	}
	#planettype {
		width: 180px;
		height: 180px;
	}
	#rings {
	    width: 340px;
	    height: 160px;
	    margin-left: -170px;
	    background-size: 340px 160px;
    }
	.iconImage {
		width: 220px;
		height: 220px;
		margin: 20px auto;
	}
	.shop a {
		font-size: 11px;
		padding: 5px 3px;
		border-width: 1px;
	}
	.shop a img {
		height: 11px;
		width: auto;
	}
}
@media (max-width: 320px) {
	#info {
		top: 20px;
		left: 5px;
	}
	#social {
		bottom: 15px;
		left: 5px;
	}
	.contain p, .signSlide p {
		font-size: 11px;
	}
	.signContainer {
		min-height: 190px;
	}
	.signContainer a {
		position: relative;
	    width: 25%;
	    display: inline-block;
	    overflow: hidden;
	    margin: 0 1% 20px 1%;
	    height: 40px;
	}
	.signImage {
		max-width: 240px;
		max-height: 182px;
	}
	.signImage img {
		width: 100%;
		height: 100%;
	}
	#planet {
		width: 180px;
		height: 180px;
	}
	#planettype {
		width: 180px;
		height: 180px;
	}
	#rings {
	    width: 340px;
	    height: 160px;
	    margin-left: -170px;
	    background-size: 340px 160px;
    }
    #typed {
	    font-size: 18px;
    }
}
</style>
<div id="shopByStarSign">
	<div id="backgroundGradient">
		<div id="starfield">
			<div id="coverIt">
				<div id="loadingImg"></div>
			</div>
			<div class="slides">
				<section id="content"></section>
				<div id="signsContainer"></div>
				<div id="slideNav"></div>
				<img src="//images.selfridges.com/is/image/selfridges/nav?qlt=100,1&fmt=png-alpha" id="info" />
				<div id="social">
					<a href="#Facebook" id="fbShare"><img src="//images.selfridges.com/is/image/selfridges/sbss_icon_facebook?scl=1&qlt=100,1&fmt=png-alpha" alt="Facebook" width="88" height="88" id="facebook" /></a>
					<a href="https://twitter.com/intent/tweet?text=Your%20perfect%20gift%20is%20written%20in%20the%20stars%20-%20Shop%20by%20Star%20Sign%20@Selfridges&url=http%3A%2F%2Fwww.selfridges.com%2FGB%2Fen%2Fcontent%2Fshop-star-sign"><img src="//images.selfridges.com/is/image/selfridges/sbss_icon_twitter?scl=1&qlt=100,1&fmt=png-alpha" alt="sbss_icon_twitter" width="88" height="88" /></a>
				</div>
			</div>
		</div>
	</div>
</div>
<script src="/wcsstore/Selfridges/upload/javascript/three.js"></script>
<script src="/wcsstore/Selfridges/upload/javascript/threex.astrology.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.waitforimages/1.5.0/jquery.waitforimages.min.js"></script>
<script async src="//platform.twitter.com/widgets.js"></script>
<script>
//no conflict jQuery
var $s = jQuery.noConflict();

var hasBeenClicked = false;

window.fbAsyncInit = function() {
	FB.init({
		appId: '617615528376585',
		xfbml: true,
		version: 'v2.5'
	});
};

(function(d, s, id){
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) {return;}
	js = d.createElement(s); js.id = id;
	js.src = "//connect.facebook.net/en_US/sdk.js";
	fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

var scriptBasePath = '/wcsstore/Selfridges/upload/javascript/',
	imageBasePath = '//images.selfridges.com/is/image/selfridges/',
	sbssJson = scriptBasePath+'sbss.js',
	female = scriptBasePath+'female.js',
	male = scriptBasePath+'male.js',
	cmPath = '//cm.selfridges.com',
	livePath = '//www.selfridges.com';

jQuery(document).ready(function($s) {
	var width = $s(window).width(),
		height = $s(window).height(),
		espot = $s('#Espot_ServiceBanner_m').height(),
		header = $s('header').height();
	if( /Mobi/i.test(navigator.userAgent) ) {
		$s('#starfield, #shopByStarSign').width(width).height(height - 45);
	} else {
		$s('#starfield, #shopByStarSign').width(width).height(height - 113);
	}
	$s('#fbShare').on('click', function(e){
		e.preventDefault();
		FB.ui({
			method: 'share',
			href: 'http://www.selfridges.com/GB/en/content/shop-star-sign',
		}, function(response){});
	});
});

jQuery(window).load(function($s) {
	slides();
	if( /Mobi/i.test(navigator.userAgent) ) {
		jQuery('#starfield').append('<div class="stars"></div><div class="stars"></div><div class="stars"></div><div class="stars"></div><div class="stars"></div>');
	} else {
		if ( webglAvailable() ) {
			starField();
		} else {
			jQuery('#starfield').append('<div class="stars"></div><div class="stars"></div><div class="stars"></div><div class="stars"></div><div class="stars"></div>');
		}
	}
});

function webglAvailable() {
	try {
		var canvas = document.createElement( 'canvas' );
		return !!( window.WebGLRenderingContext && (canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );
	} catch ( e ) {
		return false;
	}
}

function slides() {
	$s('#social').hide();
	$s('#coverIt').show();
	$s.getJSON(sbssJson, function(data) {
		var slide = '';
		$s.each(data.slides, function (i, a) {
			slide += '<section class="introSlide" data-state="'+a.name+'" id="slide'+a.ids+'">';
			slide += '<div class="contain">';
			if(exists(a.header)) {
				slide += '<img src="'+imageBasePath+a.header+'?scl=1&qlt=100,1&fmt=png-alpha" class="'+a.headerId+'">';
			}
			if(exists(a.image)) {
				slide += '<a href="#showSigns" id="showSigns"><img src="'+imageBasePath+a.image+'?scl=1&qlt=100,1&fmt=png-alpha" class="'+a.imageId+'"></a>';
			}
			if( /Mobi/i.test(navigator.userAgent) ) {
				if(exists(a.mobiletext)) {
					slide += '<p>'+a.mobiletext+'</p>';
				}
			} else {
				if(exists(a.text)) {
					slide += '<p>'+a.text+'</p>';
				}
			}
			slide += '</section>';
			$s('#content').html(slide);
			$s('#coverIt').hide();
			$s('#content section:first').css('top' ,'0');
			$s('#showSigns').on('click', function(e){
				e.preventDefault();
				hasBeenClicked = true;
				showSigns();
			});
			window.setTimeout(function(){
				if (!hasBeenClicked) {
					hasBeenClicked = true;
					showSigns();
				}
			}, 6000);
		});
	});
}

function showSigns() {
	var sWidth = $s('.slides').width(),
		sHeight = $s('.slides').height();
	$s('#content section:first').animate({
		top: '-'+sHeight+'px',
		'opacity': 0
	},500, 'linear', function(){
		$s('#content section:nth-child(2)').animate({
			top: '0'
		},500, function(){
			$s('#slide2 .contain').append('<div class="selectors"><a href="#female" id="female" style="background: url('+imageBasePath+'sbss_tab_female?scl=1&qlt=100,1&fmt=png-alpha);" class="active"></a><a href="#male" id="male" style="background: url('+imageBasePath+'sbss_tab_male?scl=1&qlt=100,1&fmt=png-alpha);"></a></div><div class="signContainer" />')
			$s('.selectors').on('click', 'a', function(e){
				e.preventDefault();
				var genderId = $s(this).attr('id');
				$s('.selectors a').removeClass('active');
				$s(this).addClass('active');
				starsigns(genderId)
			});
			$s('a#female').trigger('click');
		});
	});
}

function starsigns(genderId) {
	$s.getJSON('/wcsstore/Selfridges/upload/javascript/'+genderId+'.js', function(data) {
		var sign = '';
		$s.each(data.starsigns, function(i,a) {
			sign += '<a href="#'+a.name+'" id="'+a.name+'"data-gender="'+genderId+'" data-sign="'+a.id+'" data-starsign="'+a.name+'"><img src="'+imageBasePath+'icon_'+a.name+'?scl=1&qlt=100,1&fmt=png-alpha" /></a>';
		});
		$s('#slide2 .signContainer').html(sign);
		$s('#slide2 .signContainer').waitForImages(function() {
			$s('#slide2 .signContainer img').each(function(i) {
				$s(this).delay((i++) * 250).fadeTo(500, 1);
			})
		});
	});
	$s('#slide2 .signContainer').on('click', 'a', function(e){
		e.preventDefault();
		var genderType = $s(this).data('gender'),
			starsign = $s(this).data('starsign'),
			sign = $s(this).data('sign');
		signType(genderType, sign);
		localStorage.setItem('starsign', starsign);
		localStorage.setItem('gender', genderType);
		console.log('Starsigns_'+genderType+'_'+starsign+'_Slide1');
		cmCreatePageviewTag('Starsigns_'+genderType+'_'+starsign+'_Slide1', 'SELF_STYLE');
	});
}

function signType(genderType, sign) {
	$s('#coverIt').show();
	$s('#social').hide();
	var signId = sign,
		genderId = genderType;
	$s.getJSON('/wcsstore/Selfridges/upload/javascript/'+genderId+'.js', function(data) {

		//slide1 main
		var slide = '<section class="signSlide active" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[0].id+'" id="'+data.starsigns[signId].name+'1" data-background="">'+
			'<div class="signTitle" style="background: url('+imageBasePath+'title_'+data.starsigns[signId].name+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>'+
			'<div class="signImage"><img src="'+imageBasePath+data.starsigns[signId].name+'?scl=1&qlt=100,1&fmt=png-alpha" width="329" height="250"></div>';
			if( /Mobi/i.test(navigator.userAgent) ) {
				slide += '<p>'+data.starsigns[signId].slides[0].signMobileText+'</p>';
			} else {
				slide += '<p>'+data.starsigns[signId].slides[0].signText+'</p>';
			}
			slide += '<div class="next"><a href="#slide'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'"><img src="'+imageBasePath+'/sbss_icon_next?scl=1&qlt=100,1&fmt=png-alpha" alt="Next" /></a></div>'+
			'<div class="skip"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[0].id+'skiptoproduct-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[0].id+'">Shop <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		//slide2 horoscope
			slide += '<section class="signSlide" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+'2" data-background="">'+
			'<div class="signTitle" style="background: url('+imageBasePath+'horoscope_title_'+data.starsigns[signId].name+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>'+
			'<p><iframe class="iframe" width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/'+data.starsigns[signId].slides[1].embed+'&amp;auto_play=false&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=false&amp;show_comments=false&amp;show_playcount=false&amp;show_user=false&amp;hide_related=true&amp;visual=false&amp;start_track=0&amp;color=592a71&amp;theme_color=592a71&amp;callback=true"></iframe></p>';
			if( /Mobi/i.test(navigator.userAgent) ) {
				slide += '';
			} else {
				slide += '<p>&ldquo;'+data.starsigns[signId].slides[1].horoscope+'&rdquo;</p>';
			}
			slide += '<div class="next"><a href="#slide'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[2].id+'"><img src="'+imageBasePath+'sbss_icon_next?scl=1&qlt=100,1&fmt=png-alpha" alt="Next" /></a></div>'+
			'<div class="skip"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[1].id+'skiptoproduct-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'">Shop <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		//slide3 icon
			slide += '<section class="signSlide" data-icon="icon" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[2].id+'" id="'+data.starsigns[signId].name+'3" data-background="">'+
			'<div class="iconTitle" style="background: url('+imageBasePath+'style_title_'+data.starsigns[signId].slides[2].iconTitle+'_'+genderId+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>'+
			'<div class="iconImage glow"><img src="'+imageBasePath+'style_icon_'+data.starsigns[signId].slides[2].icon+'_quote_'+genderId+'?scl=1&qlt=100,1&fmt=png-alpha" class="front"><img src="'+imageBasePath+'style_icon_'+data.starsigns[signId].slides[2].icon+'_face_'+genderId+'?scl=1&qlt=100,1&fmt=png-alpha" class="back"></div>'+
			'<div class="next"><a href="#slide'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[3].id+'"><img src="'+imageBasePath+'sbss_icon_next?scl=1&qlt=100,1&fmt=png-alpha" alt="Next" /></a></div>'+
			'<div class="skip"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[2].id+'skiptoproduct-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[2].id+'">Shop <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		//slide4 planet
			slide += '<section class="signSlide" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[3].id+'" id="'+data.starsigns[signId].name+'4" data-background="">'+
			'<div class="signTitle" style="background: url('+imageBasePath+'planet_title_'+data.starsigns[signId].slides[3].planetTitle+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>';
			if(webglAvailable()) {
				slide += '<div id="planet"></div>';
			} else {
				slide += '<div id="planet" class="noWebGL"></div>';
			}
			if( /Mobi/i.test(navigator.userAgent) ) {
				slide += '<p class="horoscope">'+data.starsigns[signId].slides[3].planetMobileText+'</p>';
			} else {
				slide += '<p class="horoscope">'+data.starsigns[signId].slides[3].planetText+'</p>';
			}
			slide += '<div class="next"><a href="#slide'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[4].id+'"><img src="'+imageBasePath+'sbss_icon_next?scl=1&qlt=100,1&fmt=png-alpha" alt="Next" /></a></div>'+
			'<div class="skip"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[3].id+'skiptoproduct-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[3].id+'">Shop <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		//slide5 colour
			slide += '<section class="signSlide bg" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[4].id+'" data-type="type" id="'+data.starsigns[signId].name+'5" data-colour="'+data.starsigns[signId].slides[4].colour+'">'+
			'<div class="signTitle" style="background: url('+imageBasePath+'colour_title_'+data.starsigns[signId].slides[4].colourTitle+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>'+
			'<div class="signImageColour type" data-type="type"><div id="typed-strings"><span id="typed">'+data.starsigns[signId].slides[4].colourText+'</span></div></div>'+
			'<div class="next"><a href="#slide'+data.starsigns[signId].name+data.starsigns[signId].slides[1].id+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[5].id+'"><img src="'+imageBasePath+'sbss_icon_next?scl=1&qlt=100,1&fmt=png-alpha" alt="Next" /></a></div>'+
			'<div class="skip"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[4].id+'skiptoproduct-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[4].id+'">Shop <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		//slide6 body
			slide += '<section class="signSlide bg" data-sign="'+data.starsigns[signId].name+'" data-slideId="'+data.starsigns[signId].slides[5].id+'" id="'+data.starsigns[signId].name+'6" data-colour="'+data.starsigns[signId].slides[4].colour+'">'+
			'<div class="signTitle" style="background: url('+imageBasePath+'body_title_'+data.starsigns[signId].slides[5].bodyTitle+'?scl=1&qlt=100,1&fmt=png-alpha);"></div>'+
			'<p class="horoscope">'+data.starsigns[signId].slides[5].bodyText+'</p>'+
			'<div class="signImageBody" style="background: url('+imageBasePath+'body_image_'+genderId+'?scl=1&qlt=100,1&fmt=png-alpha);"><img src="'+imageBasePath+'body_image_'+data.starsigns[signId].slides[5].bodyImage+'_'+genderId+'?scl=1&qlt=100,1&fmt=png-alpha"></div>'+
			'<div class="shop"><a href="'+livePath+data.starsigns[signId].url+'&cm_sp=StarsignsProductEdits-_-Slide'+data.starsigns[signId].slides[5].id+'ViewtheEdit-_-'+genderId+data.starsigns[signId].name+'" id="'+data.starsigns[signId].name+data.starsigns[signId].slides[5].id+'">Shop the '+data.starsigns[signId].name+' Edit <img src="'+imageBasePath+'sbss_icon_skip?scl=1&qlt=100,1&fmt=png-alpha" alt="skip" /></a></div>'+
			'</section>';

		var slideNav = '',
			slideNavItem = '';
		$s.each(data.starsigns[signId].slides, function(i,a) {
			slideNavItem += '<span id="'+a.name+''+a.id+'" class="slideNav"></span>';
		});
		$s('.background').css('opacity', '0.5');
		$s('#slide1, #slide2').fadeOut().css('opacity', '0').hide();
		$s('#content').css('top', '0').css('opacity', '0').hide();
		$s('#signsContainer').html(slide).css('opacity', '1').show();
		var cHeight = $s(document).height(),
			numSlides = $s('.signSlide').length;
		$s('#signsContainer').waitForImages(function() {
			$s('#coverIt').hide();
		});
		var planetType = data.starsigns[signId].slides[3].planet;
		if( /Mobi/i.test(navigator.userAgent) ) {
			if(planetType == 'Saturn') {
				$s('#planet').html('<div id="planettype" style="background: url('+imageBasePath+''+planetType+'mobile?scl=1&qlt=100,1&fmt=png-alpha) !important; background-size: 360px 180px !important;"><div class="atmos"></div></div><div id="rings"></div>');
			} else {
				$s('#planet').html('<div id="planettype" style="background: url('+imageBasePath+''+planetType+'mobile?scl=1&qlt=100,1&fmt=png-alpha) !important; background-size: 360px 180px !important;"><div class="atmos"></div></div>');
			}
		} else {
			if ( webglAvailable() ) {
				planet(planetType);
			} else {
				if(planetType == 'Saturn') {
					$s('#planet').html('<div id="planettype" style="background: url('+imageBasePath+''+planetType+'mobile?scl=1&qlt=100,1&fmt=png-alpha) !important; background-size: 360px 180px !important;"><div class="atmos"></div></div><div id="rings"></div>');
				} else {
					$s('#planet').html('<div id="planettype" style="background: url('+imageBasePath+''+planetType+'mobile?scl=1&qlt=100,1&fmt=png-alpha) !important; background-size: 360px 180px !important;"><div class="atmos"></div></div>');
				}
			}
		}
		$s('#info').show().css('opacity', '1');
		$s('#slideNav').html(slideNavItem).show().css('opacity', '1');
		$s('.slideNav:first').addClass('active');
		var slidePos = $s('#signsContainer').position();
		$s('.slideNav, .next a').on('click', function(e){
			e.preventDefault();
			var slideNo = $s(this).attr('id'),
				slidePos = $s('section#'+slideNo).attr('data-top'),
				type = $s('section#'+slideNo).attr('data-type'),
				icon = $s('section#'+slideNo).attr('data-icon'),
				colour = $s('section#'+slideNo).attr('data-colour'),
				cmSign = $s('section#'+slideNo).attr('data-sign'),
				cmSlide = $s('section#'+slideNo).attr('data-slideId')
				slideTop = $s('#slides').height();
			console.log('Starsigns_'+genderType+'_'+cmSign+'_Slide'+cmSlide);
			cmCreatePageviewTag('Starsigns_'+genderType+'_'+cmSign+'_Slide'+cmSlide, 'SELF_STYLE');
			if(exists(colour)){
				$s('#backgroundGradient').attr('style', 'background: #'+colour+' !important;');
			} else {
				$s('#backgroundGradient').removeAttr('style')
			}
			if(exists(icon)){
				$s('.glow img.front').addClass('animated')
			}
			if(exists(type)){
				$s('#typed').css('opacity', '1');
			}
			$s('section').removeClass('active').removeClass('past').removeClass('future');
			$s('section#'+slideNo).prev().addClass('past');
			$s('section#'+slideNo).addClass('active');
			$s('section#'+slideNo).next().addClass('future');
			$s('.slideNav').removeClass('active');
			$s('.slideNav#'+slideNo).addClass('active');
			if($s('section#'+slideNo+'.active').is(':last-child')){
				$s('#social').show();
			} else {
				$s('#social').hide();
			}
		});
		$s('.signSlide').swipe( {
			swipe:function(event, direction, distance, duration, fingerCount, fingerData) {
				if(direction == 'up') {
					var slideNo = $s(this).attr('id'),
						slideId = $s(this).attr('data-slideid'),
						nextSlide = parseInt(slideId) + parseInt(1),
						cmSign = $s('section#'+slideNo).attr('data-sign'),
						cmSlide = $s('section#'+slideNo).attr('data-slideId');
					$s('.slideNav#'+cmSign+nextSlide).trigger('click');
				}
				if(direction == 'down') {
					var slideNo = $s(this).attr('id'),
						slideId = $s(this).attr('data-slideid'),
						nextSlide = parseInt(slideId) - parseInt(1),
						cmSign = $s('section#'+slideNo).attr('data-sign'),
						cmSlide = $s('section#'+slideNo).attr('data-slideId');
					$s('.slideNav#'+cmSign+nextSlide).trigger('click');
				}
			}
		});
		var scrolling = false;
		var oldTime = 0;
		var newTime = 0;
		var isTouchPad;
		var eventCount = 0;
		var eventCountStart;
		var mouseHandle = function (evt) {
		    var isTouchPadDefined = isTouchPad || typeof isTouchPad !== "undefined";
		    if (!isTouchPadDefined) {
		        if (eventCount === 0) {
		            eventCountStart = new Date().getTime();
		        }
		        eventCount++;
		        if (new Date().getTime() - eventCountStart > 50) {
		                if (eventCount > 5) {
		                    isTouchPad = true;
		                } else {
		                    isTouchPad = false;
		                }
		            isTouchPadDefined = true;
		        }
		    }
		    if (isTouchPadDefined) {
		        if (!evt) evt = event;
		        var direction = (evt.detail<0 || evt.wheelDelta>0) ? 1 : -1;
		        if (isTouchPad) {
		            newTime = new Date().getTime();
		            if (!scrolling && newTime-oldTime > 550 ) {
		                scrolling = true;
		                if (direction < 0) {
						var slideId = $s('.signSlide.active').attr('data-slideid'),
							cmSign = $s('.signSlide.active').attr('data-sign');
		                    nextSlide = parseInt(slideId) + parseInt(1);
						$s('.slideNav#'+cmSign+nextSlide).trigger('click');
		                } else {
						var slideId = $s('.signSlide.active').attr('data-slideid'),
							cmSign = $s('.signSlide.active').attr('data-sign');
		                    nextSlide = parseInt(slideId) - parseInt(1);
						$s('.slideNav#'+cmSign+nextSlide).trigger('click');
		                }
		                setTimeout(function() {oldTime = new Date().getTime();scrolling = false}, 500);
		            }
		        } else {
		            newTime = new Date().getTime();
		            if (!scrolling && newTime-oldTime > 550 ) {
		                scrolling = true;
			            if (direction < 0) {
							var slideId = $s('.signSlide.active').attr('data-slideid'),
								cmSign = $s('.signSlide.active').attr('data-sign');
			                    nextSlide = parseInt(slideId) + parseInt(1);
							$s('.slideNav#'+cmSign+nextSlide).trigger('click');
			            } else {
							var slideId = $s('.signSlide.active').attr('data-slideid'),
								cmSign = $s('.signSlide.active').attr('data-sign');
			                    nextSlide = parseInt(slideId) - parseInt(1);
							$s('.slideNav#'+cmSign+nextSlide).trigger('click');
			            }
		                setTimeout(function() {oldTime = new Date().getTime();scrolling = false}, 500);
			        }
		        }
		    }
		}

		document.addEventListener("mousewheel", mouseHandle, false);
		document.addEventListener("DOMMouseScroll", mouseHandle, false);
		$s('#info').on('click', function(){
			$s('#signsContainer, #slideNav, #info').css('opacity', '0').hide();
			$s('#social').hide();
			$s('#signsContainer, #slideNav').empty();
			$s('#content').css('top', '0').css('opacity', '1').show();
			$s('#slide2').css('top', '0').css('opacity', '1').show();
			$s('.bg1').fadeIn();
			$s('#backgroundGradient').removeAttr('style');
		});
	});
}

function starField() {
	if ( !window.requestAnimationFrame ) {
		window.requestAnimationFrame = ( function() {
			return window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			window.msRequestAnimationFrame ||
			function( callback, element ) {
				window.setTimeout( callback, 1000 / 60 );
			};
		} )();
	}
	var starsCamera, starsScene, renderer, stars=[];

	function init(){
		starsCamera = new THREE.PerspectiveCamera(100, $s('#starfield').width() / $s('#starfield').height(), 1, 5000);
		starsCamera.position.z = 1000;
		starsScene = new THREE.Scene();
		renderer = new THREE.WebGLRenderer({antialiased: true,alpha: true});
		renderer.setSize( $s('#starfield').width(), $s('#starfield').height() );
		$s('#starfield').append( renderer.domElement );
	}

	function addSphere(){
		for ( var z= -1000; z < 1000; z+=30 ) {
			var geometry   = new THREE.SphereGeometry(1, 50, 50)
			var material = new THREE.MeshBasicMaterial( {color: 0xc8eafc} );
			var sphere = new THREE.Mesh(geometry, material)
			sphere.position.x = Math.random() * 1000 - 500;
			sphere.position.y = Math.random() * 1000 - 500;
			sphere.position.z = z;
			sphere.scale.x = sphere.scale.y = 0.5;
			starsScene.add( sphere );
			stars.push(sphere);
		}
	}

	function animateStars() {
		for(var i=0; i<stars.length; i++) {
			star = stars[i];
			star.position.z +=  i/10;
			if(star.position.z>1000) star.position.z-=2000;
		}
	}

	function render() {
		requestAnimationFrame( render );
		renderer.render( starsScene, starsCamera );
		animateStars();
	}

	init();
	addSphere();
	render();
}

function planet(planetType) {
	var planetRender = new THREE.WebGLRenderer({
		antialias: true,
		alpha: true
	});
	planetRender.setSize( $s('#planet').width(), $s('#planet').height() );
	$s('#planet').append( planetRender.domElement )
	planetRender.shadowMap.enabled = true

	var onRenderFcts= [];
	var planetScene = new THREE.Scene();
	var camera = new THREE.PerspectiveCamera(75, $s('#planet').width() / $s('#planet').height() );
	camera.position.z = 1;

	var light = new THREE.AmbientLight( 0x222222 )
	planetScene.add( light )

	var light = new THREE.DirectionalLight( 0xffffff )
	light.position.set(5,3,5)
	planetScene.add( light )
	light.castShadow = true
	light.shadowCameraNear = 0.01
	light.shadowCameraFar = 15
	light.shadowCameraFov = 125

	light.shadowCameraLeft = -1
	light.shadowCameraRight =  1
	light.shadowCameraTop =  1
	light.shadowCameraBottom= -1
	light.shadowBias = 0.001
	light.shadowDarkness = 0.2
	light.shadowMapWidth = 1024
	light.shadowMapHeight = 1024
	var containerPlanet = new THREE.Object3D()
	planetScene.add(containerPlanet)
	if( planetType === 'Sun' ){
		var planetMesh = THREEx.Planets.createSun()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.01609 * delta;
		})
	} else if( planetType === 'Mercury' ){
		var planetMesh = THREEx.Planets.createMercury()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.013407 * delta;
		})
	} else if( planetType === 'Venus' ){
		var planetMesh = THREEx.Planets.createVenus()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += -0.035832 * delta;
		})
	} else if( planetType === 'Earth' ){
		var planetMesh = THREEx.Planets.createEarth()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.024 * delta;
		})
	} else if( planetType === 'Moon' ){
		var planetMesh = THREEx.Planets.createMoon()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.0655 * delta;
		})
	} else if( planetType === 'Mars' ){
		var planetMesh = THREEx.Planets.createMars()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.024 * delta;
		})
	} else if( planetType === 'Jupiter' ){
		var planetMesh = THREEx.Planets.createJupiter()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.09 * delta;
		})
	} else if( planetType === 'Saturn' ){
		var planetMesh = THREEx.Planets.createSaturn()
		containerPlanet.add(planetMesh)
		planetMesh.receiveShadow = true
		planetMesh.castShadow = true
		var ring = THREEx.Planets.createSaturnRing()
		ring.receiveShadow = true
		ring.castShadow = true
		planetMesh.add(ring)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.01066 * delta;
		})
	} else if( planetType === 'Neptune' ){
		var planetMesh = THREEx.Planets.createNeptune()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.016 * delta;
		})
	} else if( planetType === 'Uranus' ){
		var planetMesh = THREEx.Planets.createUranus()
		containerPlanet.add(planetMesh)
		planetMesh.receiveShadow = true
		planetMesh.castShadow = true
		var ring = THREEx.Planets.createUranusRing()
		ring.receiveShadow = true
		ring.castShadow = true
		planetMesh.add(ring)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.017 * delta;
		})
	} else if( planetType === 'Pluto' ){
		var planetMesh = THREEx.Planets.createPluto()
		containerPlanet.add(planetMesh)
		onRenderFcts.push(function(delta, now){
			planetMesh.rotation.y += 0.03153 * delta;
		})
	}

	var geometry = new THREE.SphereGeometry(0.5, 64, 64)
	var material = THREEx.createAtmosphereMaterial()
	material.uniforms.glowColor.value.set(0xf7f5bc)
	material.uniforms.coeficient.value = 0.3
	material.uniforms.power.value	 = 5.0
	var mesh = new THREE.Mesh(geometry, material );
	mesh.scale.multiplyScalar(1.01);
	containerPlanet.add( mesh );
	var geometry = new THREE.SphereGeometry(0.5, 32, 32)
	var material = THREEx.createAtmosphereMaterial()
	material.side = THREE.BackSide
	material.uniforms.glowColor.value.set(0xf7f5bc)
	material.uniforms.coeficient.value = 0.3
	material.uniforms.power.value = 6
	var mesh = new THREE.Mesh(geometry, material );
	mesh.scale.multiplyScalar(1.25);
	containerPlanet.add( mesh );
	onRenderFcts.push(function(){
		planetRender.render( planetScene, camera );
	})
	var lastTimeMsec= null
	requestAnimationFrame(function animate(nowMsec){
		requestAnimationFrame( animate );
		lastTimeMsec = lastTimeMsec || nowMsec-1000/60
		var deltaMsec = Math.min(200, nowMsec - lastTimeMsec)
		lastTimeMsec = nowMsec
		onRenderFcts.forEach(function(onRenderFct){
			onRenderFct(deltaMsec/1000, nowMsec/1000)
		})
	})
}

function exists(data) {if(!data || data==null || data=='undefined' || typeof(data)=='undefined') return false;else return true;}

</script>